{"version":3,"sources":["webpack:///./src/views/auth/Auth.vue","webpack:///./src/views/auth/childComps/Login.vue","webpack:///./src/views/auth/childComps/Login.vue?300e","webpack:///./src/views/auth/childComps/Register.vue","webpack:///./src/views/auth/childComps/Register.vue?0773","webpack:///./src/views/auth/childComps/Introduction.vue","webpack:///./src/views/auth/childComps/Introduction.vue?0c12","webpack:///./src/views/auth/Auth.vue?cb1e","webpack:///./src/components/common/MCheckbox.vue","webpack:///./src/components/common/MCheckbox.vue?2394","webpack:///./src/views/auth/childComps/Login.vue?1bff","webpack:///./src/views/auth/childComps/Register.vue?94f7","webpack:///./src/views/auth/Auth.vue?3e30","webpack:///./src/views/auth/Auth.vue?e74e","webpack:///./src/views/auth/childComps/Introduction.vue?e14b","webpack:///./src/components/common/MCheckbox.vue?ae35"],"names":["class","ref","model","signIn","rules","signInRules","prop","email","placeholder","pwd","label","rememberMe","loading","btnLoading","signInSubmit","name","components","MFormItem","MForm","MCheckbox","MButton","MInput","data","required","message","pattern","methods","formName","this","$refs","validate","valid","then","res","token","localStorage","setItem","$store","commit","userInfo","$router","push","catch","$message","error","msg","finally","render","__scopeId","signUp","signUpRules","verifyCode","type","verifyCodeBtnLoading","disabled","verifyCodeBtnDisabled","sendVerifyCode","countdown","checkPwd","signUpBtnLoading","signUpSubmit","asyncValidator","validateEmail","validator","validatePwd","validateCheckPwd","signUpForm","validateField","success","verifyCodeRetryTiming","rule","value","callback","Error","indexOf","length","retry","setInterval","clearInterval","test","aria-hidden","xlink:href","isSignUp","toggleForm","$route","query","history","replaceState","mounted","Introduction","Register","Login","NavBar","document","URL","modelValue","click","changeModelValue","props","String","Array","Boolean","Number","default","$emit","e","currentTarget","checked"],"mappings":"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","file":"js/chunk-948eeeae.b081a0c1.js","sourcesContent":["<template>\r\n  <div class=\"main\">\r\n    <div class=\"auth-container\">\r\n      <Login class=\"sign-mod\"/>\r\n      <Register class=\"sign-mod\"/>\r\n      <Introduction/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"@/components/navBar/NavBar\";\r\nimport Login from \"@/views/auth/childComps/Login\";\r\nimport Register from \"@/views/auth/childComps/Register\";\r\nimport Introduction from \"@/views/auth/childComps/Introduction\";\r\n\r\nexport default {\r\n  name: \"Auth\",\r\n  components: {Introduction, Register, Login, NavBar},\r\n  mounted() {\r\n    history.replaceState(null, null, document.URL);\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.auth-container .m-text-input {\r\n  background-color: #f9f9fc;\r\n  border: #f9f9fc solid 1px;\r\n}\r\n</style>\r\n<style scoped>\r\n.main {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background-color: #f9fbff;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n}\r\n\r\n.auth-container {\r\n  display: flex;\r\n  width: 78%;\r\n  height: 76%;\r\n  box-shadow: 20px 20px 60px #d9d9d9,\r\n  -20px -20px 60px #ffffff;\r\n  position: relative;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.sign-mod {\r\n  width: 50%;\r\n  background-color: #ffffff;\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n}\r\n</style>","<template>\r\n  <div>\r\n    <div class=\"text\">\r\n      <p class=\"title\">登录</p>\r\n      <p class=\"sub-title\">欢迎回来，请登录您的账号</p>\r\n    </div>\r\n    <m-form ref=\"signInForm\" :model=\"signIn\" :rules=\"signInRules\" class=\"sign-form\">\r\n      <m-form-item prop=\"email\">\r\n        <m-input v-model=\"signIn.email\" placeholder=\"邮箱地址\"/>\r\n      </m-form-item>\r\n      <m-form-item prop=\"pwd\">\r\n        <m-input v-model=\"signIn.pwd\" placeholder=\"密码\" pwd/>\r\n      </m-form-item>\r\n      <m-form-item>\r\n        <m-checkbox label=\"记住我\" v-model=\"signIn.rememberMe\"></m-checkbox>\r\n      </m-form-item>\r\n      <m-button class=\"sign-btn\" :loading=\"btnLoading\" @click=\"signInSubmit('signInForm')\">登录</m-button>\r\n    </m-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MFormItem from \"@/components/common/MFormItem\";\r\nimport MForm from \"@/components/common/MForm\";\r\nimport MCheckbox from \"@/components/common/MCheckbox\";\r\nimport MButton from \"@/components/common/MButton\";\r\nimport MInput from \"@/components/common/MInput\";\r\n\r\nimport {login} from \"@/api/auth\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  components: {MFormItem, MForm, MCheckbox, MButton, MInput},\r\n  data() {\r\n    return {\r\n      signIn: {\r\n        email: '',\r\n        pwd: '',\r\n        rememberMe: false\r\n      },\r\n      signInRules: {\r\n        email: [\r\n          {required: true, message: '请输入邮箱地址'},\r\n          {pattern: '^\\\\w+([-+.]\\\\w+)*@\\\\w+([-.]\\\\w+)*\\\\.\\\\w+([-.]\\\\w+)*$', message: '邮箱地址格式不正确'}\r\n        ],\r\n        pwd: [\r\n          {required: true, message: '请输入密码'}\r\n        ]\r\n      },\r\n      btnLoading: false\r\n    }\r\n  },\r\n  methods: {\r\n    signInSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.btnLoading = true\r\n          login(this.signIn).then(res => {\r\n            const token = res.data.token\r\n            localStorage.setItem('authorization', token)\r\n            this.$store.commit('toggleLoginStatus', true)\r\n            this.$store.commit('updateUserInfo', res.data.userInfo)\r\n            this.$router.push('/')\r\n          }).catch(res => {\r\n            this.$message.error(res.msg)\r\n          }).finally(() => {\r\n            this.btnLoading = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.sign-btn {\r\n  width: 120px;\r\n}\r\n\r\n.sign-form {\r\n  width: 90%;\r\n  height: 70%;\r\n}\r\n\r\n.text {\r\n  height: 30%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n}\r\n\r\n.text .title {\r\n  font-size: 28px;\r\n  padding-top: 20px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.text .sub-title {\r\n  color: #919191;\r\n  font-size: 15px;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=3357f1b4&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=3357f1b4&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3357f1b4\"\n\nexport default script","<template>\r\n  <div>\r\n    <div class=\"text\">\r\n      <p class=\"title\">注册</p>\r\n      <p class=\"sub-title\">请注册您的账号</p>\r\n    </div>\r\n    <m-form ref=\"signUpForm\" :model=\"signUp\" :rules=\"signUpRules\" class=\"sign-form\">\r\n      <m-form-item prop=\"email\">\r\n        <m-input v-model=\"signUp.email\" placeholder=\"邮箱地址\"/>\r\n      </m-form-item>\r\n      <div class=\"verify-code\">\r\n        <m-form-item class=\"verify-code-inp\" prop=\"verifyCode\">\r\n          <m-input v-model=\"signUp.verifyCode\" placeholder=\"验证码\"/>\r\n        </m-form-item>\r\n        <m-button class=\"verify-code-btn\" type=\"secondary\"\r\n                  :loading=\"verifyCodeBtnLoading\"\r\n                  :disabled=\"verifyCodeBtnDisabled\"\r\n                  @click=\"sendVerifyCode\">\r\n          <span v-if=\"verifyCodeBtnDisabled\">{{countdown}}s后重试</span>\r\n          <span v-else>获取验证码</span>\r\n        </m-button>\r\n      </div>\r\n      <m-form-item prop=\"pwd\">\r\n        <m-input v-model=\"signUp.pwd\" placeholder=\"密码\" pwd/>\r\n      </m-form-item>\r\n      <m-form-item prop=\"checkPwd\">\r\n        <m-input v-model=\"signUp.checkPwd\" placeholder=\"确认密码\" pwd/>\r\n      </m-form-item>\r\n      <m-button class=\"sign-btn\" :loading=\"signUpBtnLoading\" @click=\"signUpSubmit('signUpForm')\">注册</m-button>\r\n    </m-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MFormItem from \"@/components/common/MFormItem\";\r\nimport MForm from \"@/components/common/MForm\";\r\nimport MCheckbox from \"@/components/common/MCheckbox\";\r\nimport MButton from \"@/components/common/MButton\";\r\nimport MInput from \"@/components/common/MInput\";\r\nimport {sendRegisterVerifyCode, register, checkEmailExists} from \"@/api/auth\";\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  components: {MFormItem, MForm, MCheckbox, MButton, MInput},\r\n  data() {\r\n    return {\r\n      signUp: {\r\n        email: '',\r\n        pwd: '',\r\n        checkPwd: '',\r\n        verifyCode: ''\r\n      },\r\n      signUpRules: {\r\n        email: [\r\n          {asyncValidator: this.validateEmail}\r\n        ],\r\n        pwd: [\r\n          {validator: this.validatePwd}\r\n        ],\r\n        checkPwd: [\r\n          {validator: this.validateCheckPwd}\r\n        ],\r\n        verifyCode: [\r\n          {required: true, message: '请输入验证码'}\r\n        ]\r\n      },\r\n      verifyCodeBtnDisabled: false,\r\n      verifyCodeBtnLoading: false,\r\n      countdown: 60,\r\n      signUpBtnLoading: false,\r\n    }\r\n  },\r\n  methods: {\r\n    signUpSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.signUpBtnLoading = true\r\n          register(this.signUp).then(res => {\r\n            const token = res.data.token\r\n            localStorage.setItem('authorization', token)\r\n            this.$store.commit('toggleLoginStatus', true)\r\n            this.$store.commit('updateUserInfo', res.data.userInfo)\r\n            this.$router.push('/')\r\n          }).catch(res => {\r\n            this.$message.error(res.msg)\r\n          }).finally(() => {\r\n            this.signUpBtnLoading = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    sendVerifyCode() {\r\n      this.$refs.signUpForm.validateField('email', valid => {\r\n        if (valid) {\r\n          this.verifyCodeBtnLoading = true\r\n          sendRegisterVerifyCode(this.signUp.email).then(() => {\r\n            this.$message.success('邮件发送成功')\r\n            this.verifyCodeRetryTiming()\r\n          }).catch(res => {\r\n            this.$message.error(res.msg)\r\n          }).finally(() => {\r\n            this.verifyCodeBtnLoading = false\r\n          })\r\n        }\r\n      })\r\n    },\r\n    validateCheckPwd(rule, value, callback) {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'))\r\n      } else if (value !== this.signUp.pwd) {\r\n        callback(new Error('两次输入的密码不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    },\r\n    validatePwd(rule, value, callback) {\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'))\r\n      } else if (value.indexOf(' ') !== -1) {\r\n        callback(new Error('不能包含空格'))\r\n      } else if (value.length < 6 || value.length > 16) {\r\n        callback(new Error('长度为6-16个字符'))\r\n      } else {\r\n        callback()\r\n      }\r\n      if (this.signUp.checkPwd !== '') {\r\n        this.$refs.signUpForm.validateField('checkPwd')\r\n      }\r\n    },\r\n    verifyCodeRetryTiming() {\r\n      this.verifyCodeBtnDisabled = true\r\n      const retry = setInterval(() => {\r\n        if (this.countdown === 1) {\r\n          this.countdown = 60\r\n          clearInterval(retry)\r\n          this.verifyCodeBtnDisabled = false\r\n          return\r\n        }\r\n        this.countdown--\r\n      }, 1000);\r\n    },\r\n    validateEmail(rule, value, callback) {\r\n      if (value === '') {\r\n        callback(new Error('请输入邮箱地址'))\r\n      } else if (!/^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/.test(value)) {\r\n        callback(new Error('邮箱地址格式不正确'))\r\n      } else {\r\n        checkEmailExists(value).then(() => {\r\n          callback()\r\n        }).catch(() => {\r\n          callback(new Error('邮箱已注册'))\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.sign-btn {\r\n  width: 120px;\r\n}\r\n\r\n.sign-form {\r\n  width: 90%;\r\n  height: 70%;\r\n}\r\n\r\n.text {\r\n  height: 30%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: center;\r\n}\r\n\r\n.text .title {\r\n  font-size: 28px;\r\n  padding-top: 20px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.text .sub-title {\r\n  color: #919191;\r\n  font-size: 15px;\r\n}\r\n\r\n.sign-form .verify-code {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.sign-form .verify-code-inp {\r\n  flex: 1 0 100px;\r\n}\r\n\r\n.sign-form .verify-code-btn {\r\n  margin-left: 10px;\r\n  margin-bottom: 22px;\r\n}\r\n</style>","import { render } from \"./Register.vue?vue&type=template&id=59b2d622&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=59b2d622&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-59b2d622\"\n\nexport default script","<template>\r\n  <div class=\"info-mod\" :class=\"{'signup-active':isSignUp}\">\r\n    <div class=\"header-icon\">\r\n      <svg class=\"icon\" aria-hidden=\"true\">\r\n        <use xlink:href=\"#icon-yunpan\"></use>\r\n      </svg>\r\n      <span>MPan</span>\r\n    </div>\r\n    <div class=\"tip register\">\r\n      <p class=\"title\">还没有账号？</p>\r\n      <div class=\"pre-text\">\r\n        <span>点击去</span>\r\n        <span class=\"action\" @click=\"toggleForm\">注册</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"tip login\">\r\n      <p class=\"title\">已有账号？</p>\r\n      <div class=\"pre-text\">\r\n        <span>点击去</span>\r\n        <span class=\"action\" @click=\"toggleForm\">登录</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"Introduction\",\r\n  data() {\r\n    return {\r\n      isSignUp: false\r\n    }\r\n  },\r\n  methods: {\r\n    toggleForm() {\r\n      this.isSignUp = !this.isSignUp\r\n      if (this.$route.query.type) {\r\n        history.replaceState({}, '', '/auth')\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.type) {\r\n      this.isSignUp = this.$route.query.type === 'register'\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.info-mod .header-icon .icon {\r\n  width: 120px;\r\n  height: 128px;\r\n}\r\n\r\n.info-mod .header-icon {\r\n  background: rgba(255, 255, 255, 0.25);\r\n  backdrop-filter: blur(4px);\r\n  -webkit-backdrop-filter: blur(4px);\r\n  min-width: 194px;\r\n  height: 194px;\r\n  border-radius: 28px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  font-size: 32px;\r\n  margin-bottom: 20px;\r\n  color: rgba(255, 255, 255, 0.7);\r\n}\r\n\r\n.info-mod .action {\r\n  color: rgb(97, 180, 255);\r\n  font-weight: 700;\r\n  cursor: pointer;\r\n  margin-left: 4px;\r\n  transition: all .2s;\r\n}\r\n\r\n.info-mod .action:hover {\r\n  color: rgb(91, 171, 243);\r\n}\r\n\r\n.info-mod .tip {\r\n  position: absolute;\r\n  bottom: 10px;\r\n  font-size: 14px;\r\n  display: flex;\r\n  transition: all 540ms;\r\n  transition-timing-function: cubic-bezier(0.86, 0, 0.07, 1);\r\n  white-space: nowrap;\r\n}\r\n\r\n.info-mod.signup-active .tip.login {\r\n  opacity: 1;\r\n  left: 30px;\r\n  pointer-events: all;\r\n}\r\n\r\n.info-mod .tip.login {\r\n  left: 150px;\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n\r\n.info-mod.signup-active .tip.register {\r\n  opacity: 0;\r\n  right: 150px;\r\n  pointer-events: none;\r\n}\r\n\r\n.info-mod .tip.register {\r\n  right: 30px;\r\n  opacity: 1;\r\n  pointer-events: all;\r\n}\r\n\r\n.info-mod {\r\n  height: 100%;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  background-image: linear-gradient(rgba(0, 0, 0, 0.01), rgba(0, 0, 0, 0.06)), url(\"https://lm-icon.oss-cn-shenzhen.aliyuncs.com/mpan/background/163256599974.jpg\");\r\n  background-color: #e4edf4;\r\n  width: 50%;\r\n  position: absolute;\r\n  transform: translateX(100%);\r\n  transition: all 540ms;\r\n  transition-timing-function: cubic-bezier(0.86, 0, 0.07, 1);\r\n  padding-left: 50px;\r\n  padding-right: 50px;\r\n  color: #ffffff;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  overflow: hidden;\r\n}\r\n\r\n.info-mod.signup-active {\r\n  transform: translateX(0);\r\n}\r\n</style>","import { render } from \"./Introduction.vue?vue&type=template&id=2f46965e&scoped=true\"\nimport script from \"./Introduction.vue?vue&type=script&lang=js\"\nexport * from \"./Introduction.vue?vue&type=script&lang=js\"\n\nimport \"./Introduction.vue?vue&type=style&index=0&id=2f46965e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-2f46965e\"\n\nexport default script","import { render } from \"./Auth.vue?vue&type=template&id=6c6ca246&scoped=true\"\nimport script from \"./Auth.vue?vue&type=script&lang=js\"\nexport * from \"./Auth.vue?vue&type=script&lang=js\"\n\nimport \"./Auth.vue?vue&type=style&index=0&id=6c6ca246&lang=css\"\nimport \"./Auth.vue?vue&type=style&index=1&id=6c6ca246&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6c6ca246\"\n\nexport default script","<template>\r\n  <label class=\"m-checkbox\" :class=\"{disabled:disabled}\" @click.stop @dblclick.stop>\r\n      <span class=\"checkbox-item\">\r\n        <input class=\"m-checkbox-input\" type=\"checkbox\" v-model=\"modelValue\" @click=\"click\"\r\n               @change=\"changeModelValue\"\r\n               :value=\"value\"\r\n               :disabled=\"disabled\">\r\n        <span class=\"m-checkbox-span\"></span>\r\n      </span>\r\n    <span v-if=\"label\" class=\"label\">{{ label }}</span>\r\n  </label>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"MCheckbox\",\r\n  props: {\r\n    label: String,\r\n    modelValue: [Array, Boolean],\r\n    value: [String, Number],\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  methods: {\r\n    changeModelValue() {\r\n      this.$emit('update:modelValue', this.modelValue)\r\n    },\r\n    click(e) {\r\n      this.$emit('clickInput', e.currentTarget.checked)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.m-checkbox.disabled .m-checkbox-span {\r\n  border: #ddd solid 1px !important;\r\n  background-color: #edf2fc;\r\n}\r\n\r\n.m-checkbox.disabled {\r\n  cursor: not-allowed !important;\r\n}\r\n\r\n.m-checkbox {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n}\r\n\r\n.checkbox-item {\r\n  display: inline-block;\r\n  width: 16px;\r\n  position: relative;\r\n}\r\n\r\n.m-checkbox-input {\r\n  position: absolute;\r\n  width: 0;\r\n  height: 0;\r\n  z-index: -1;\r\n}\r\n\r\n.m-checkbox-span {\r\n  transform: translateY(2px);\r\n  display: inline-block;\r\n  width: 14px;\r\n  height: 14px;\r\n  background-color: #ffffff;\r\n  border: #ddd solid 1px;\r\n  border-radius: 4px;\r\n  position: relative;\r\n  transition: all .3s;\r\n}\r\n\r\n.m-checkbox-input:checked + .m-checkbox-span {\r\n  background-color: #46a7ff;\r\n  border: #46a7ff solid 1px;\r\n}\r\n\r\n.m-checkbox-input:hover + .m-checkbox-span {\r\n  border: #46a7ff solid 1px;\r\n}\r\n\r\n.m-checkbox-input:checked + .m-checkbox-span:before {\r\n  display: block;\r\n  content: \"\";\r\n  height: 8px;\r\n  width: 4px;\r\n  border-bottom: white solid 1px;\r\n  border-right: white solid 1px;\r\n  position: absolute;\r\n  top: 1px;\r\n  left: 4px;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.label {\r\n  font-size: 14px;\r\n  color: #606266;\r\n  padding-left: 8px;\r\n}\r\n</style>","import { render } from \"./MCheckbox.vue?vue&type=template&id=1f239c30&scoped=true\"\nimport script from \"./MCheckbox.vue?vue&type=script&lang=js\"\nexport * from \"./MCheckbox.vue?vue&type=script&lang=js\"\n\nimport \"./MCheckbox.vue?vue&type=style&index=0&id=1f239c30&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1f239c30\"\n\nexport default script","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=3357f1b4&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=59b2d622&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Auth.vue?vue&type=style&index=0&id=6c6ca246&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Auth.vue?vue&type=style&index=1&id=6c6ca246&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Introduction.vue?vue&type=style&index=0&id=2f46965e&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MCheckbox.vue?vue&type=style&index=0&id=1f239c30&scoped=true&lang=css\""],"sourceRoot":""}
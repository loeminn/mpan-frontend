(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(t,e,i){"use strict";i.r(e);var s=i("7a23"),a=Object(s["J"])("data-v-eabdcf60");Object(s["t"])("data-v-eabdcf60");var l={class:"file-list"};Object(s["r"])();var o=a((function(t,e,i,a,o,n){var r=Object(s["y"])("file-list-tool-bar"),c=Object(s["y"])("file-list-main"),u=Object(s["y"])("file-list-table"),d=Object(s["y"])("file-list-empty"),f=Object(s["y"])("loading-mask");return Object(s["q"])(),Object(s["e"])("div",l,[Object(s["h"])(r,{"is-category":"true","select-list":o.selectList,"file-list":o.fileList,onLoading:n.loadingStatus},null,8,["select-list","file-list","onLoading"]),Object(s["h"])(c,{title:"全部"+n.mainTitle,"file-length":o.fileList.length,total:o.total},null,8,["title","file-length","total"]),Object(s["H"])(Object(s["h"])(u,{ref:"fileList","file-list":o.fileList,selectList:o.selectList,"onUpdate:selectList":e[1]||(e[1]=function(t){return o.selectList=t}),"bottom-loading-status":o.bottomLoadingStatus,onBottomLoading:n.bottomLoading},null,8,["file-list","selectList","bottom-loading-status","onBottomLoading"]),[[s["E"],0!==o.fileList.length]]),Object(s["H"])(Object(s["h"])(d,null,null,512),[[s["E"],0===o.fileList.length&&!o.isLoading]]),Object(s["H"])(Object(s["h"])(f,null,null,512),[[s["E"],o.isLoading]])])})),n=i("2909"),r=i("ff9c"),c=i("9df6"),u=i("90d1"),d=i("ebff"),f=i("e0ad"),h=i("3f5e"),L={name:"Category",components:{LoadingMask:f["a"],FileListEmpty:d["a"],FileListTable:u["a"],FileListToolBar:c["a"],FileListMain:r["a"]},data:function(){return{fileList:[],selectList:[],isLoading:!0,refresh:null,bottomLoadingStatus:!1,pageNum:1,total:0}},computed:{mainTitle:function(){var t=this.$route.params.categoryCode;switch(t){case"1":return"图片";case"2":return"视频";case"3":return"文档";case"4":return"音频";case"5":return"压缩包";case"0":return"其他";default:return""}}},methods:{loadFileList:function(){var t=this;this.newDir=!1,this.isLoading=!0,this.fileList=[],this.selectList=[],this.$bus.emit("toggleCreateDirItem",!1),Object(h["h"])(this.$route.params.categoryCode,1).then((function(e){t.pageNum=e.data.current,t.fileList=e.data.records,t.total=e.data.total,t.isLoading=!1}))},loadingStatus:function(t){this.isLoading=t},bottomLoading:function(){var t=this;this.fileList.length<this.total&&(this.bottomLoadingStatus||(this.bottomLoadingStatus=!0,Object(h["h"])(this.$route.params.categoryCode,++this.pageNum).then((function(e){var i;t.pageNum=e.data.current,(i=t.fileList).push.apply(i,Object(n["a"])(e.data.records)),t.total=e.data.total,t.bottomLoadingStatus=!1}))))}},watch:{$route:{handler:function(){this.$route.params.categoryCode&&(this.$refs.fileList.allChecked=!1,this.$refs.fileList.$refs.fileBody.scrollTo(0,0),this.loadFileList())}}},mounted:function(){var t=this;this.loadFileList(),this.$bus.on("loadFileList",(function(){t.loadFileList()})),this.$bus.on("refreshFileList",(function(){clearTimeout(t.refresh),t.refresh=setTimeout((function(){t.loadFileList()}),2e3)}))},beforeUnmount:function(){this.$bus.all.delete("loadFileList"),this.$bus.all.delete("refreshFileList")}};L.render=o,L.__scopeId="data-v-eabdcf60";e["default"]=L}}]);
//# sourceMappingURL=chunk-2d21a3d2.c35ed56d.js.map